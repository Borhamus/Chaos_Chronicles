{% extends "base_generic.html" %}

{% block title %} <title>Creaci√≥n del Deck</title> {% endblock %}

{% block content %}
<div class="container mt-5">

    <h2>{% if deck %}
            Editar Deck
        {% else %}
            Crear Nuevo Deck
        {% endif %}</h2>
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.as_p }}
        <div id="deck-container" class="container mt-4 border p-3">
            <h4>Deck (0/21)</h4>
            <div id="deck-cards" class="row"></div>
        </div>
        <div id="available-cards" class="container mt-4">
            <h4>Cartas Disponibles</h4>
            <div class="row">
                {% for carta in cartas %}
                <div class="col-md-3">
                    <div class="card">
                        <img src="/media/{{ carta.Imagen }}" class="card-img-top" alt="{{ carta.Nombre }}">
                        <div class="card-body text-center">
                            <h5 class="card-title">{{ carta.Nombre }}</h5>
                            <p class="card-text">Costo: {{ carta.Costo }}</p>
                            <button type="button" class="btn btn-success add-to-deck" data-carta-id="{{ carta.id }}" data-carta-nombre="{{ carta.Nombre }}" data-carta-costo="{{ carta.Costo }}">+</button>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        
        <button type="submit" class="btn btn-primary mt-3">Guardar</button>
    </form>
    <a href="{% url 'deck_list' %}" class="btn btn-secondary mt-3">Volver a la Lista de Decks</a>
</div>


{% endblock %}
